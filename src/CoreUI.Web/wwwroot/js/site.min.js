function getUsuario(n,t){$.ajax({type:"POST",url:t,data:{id:n},success:function(n){mostrarUsuario(n)}})}function mostrarUsuario(n){var t,i;for(items=n,j=0,t=0;t<3;t++)i=document.getElementById("Select"),i.remove(t);$.each(items,function(n,t){$("input[name=id]").val(t.id);$("input[name = UserName]").val(t.userName);$("input[name = Email]").val(t.email);$("input[name = PhoneNumber]").val(t.phoneNumber);document.getElementById("Select").options[0]=new Option(t.role,t.roleId);$("#dEmail").text(t.email);$("#dUserName").text(t.userName);$("#dPhoneNumber").text(t.phoneNumber);$("#dRole").text(t.role);$("#eUsuario").text(t.email);$("input[name=EIdUsuario]").val(t.id)})}function getRoles(n){$.ajax({type:"POST",url:n,data:{},success:function(n){if(j==0){for(var t=0;t<n.length;t++)document.getElementById("Select").options[t]=new Option(n[t].text,n[t].value),document.getElementById("SelectNuevo").options[t]=new Option(n[t].text,n[t].value);j=1}}})}function editarUsuario(n){id=$("input[name=id]")[0].value;email=$("input[name=Email]")[0].value;phoneNumber=$("input[name=PhoneNumber]")[0].value;role=document.getElementById("Select");selectRole=role.options[role.selectedIndex].text;$.each(items,function(n,t){accessFailedCount=t.accessFailedCount;concurrencyStamp=t.concurrencyStamp;emailConfirmed=t.emailConfirmed;lockoutEnabled=t.lockoutEnabled;lockoutEnd=t.lockoutEnd;userName=t.userName;normalizedUserName=t.normalizedUserName;normalizedEmail=t.normalizedEmail;passwordHash=t.passwordHash;phoneNumberConfirmed=t.phoneNumberConfirmed;securityStamp=t.securityStamp;twoFactorEnabled=t.twoFactorEnabled});$.ajax({type:"POST",url:n,data:{id,userName,email,phoneNumber,accessFailedCount,concurrencyStamp,emailConfirmed,lockoutEnabled,lockoutEnd,normalizedEmail,normalizedUserName,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEnabled,selectRole},success:function(n){n=="Save"?window.location.href="Usuarios":alert("No se puede editar los datos del usuario")}})}function ocultarDetalleUsuario(){$("#modalDetalleUsuario").modal("hide")}function eliminarUsuario(n){var t=$("input[name=EIdUsuario]")[0].value;$.ajax({type:"POST",url:n,data:{id:t},success:function(n){n=="Delete"?window.location.href="Usuarios":alert("no se puede eliminar el registro")}})}function crearUsuario(n){email=$("input[name = EmailNuevo]")[0].value;phoneNumber=$("input[name = PhoneNumberNuevo]")[0].value;passwordHash=$("input[name = PasswordHashNuevo]")[0].value;role=document.getElementById("SelectNuevo");selectRole=role.options[role.selectedIndex].text;email==""?($("#EmailNuevo").focus(),alert("Ingrese email del usuario")):passwordHash==""?($("#PasswordHashNuevo").focus,alert("Ingrese contraseña del usuario")):$.ajax({type:"POST",url:n,data:{email,phoneNumber,passwordHash,selectRole},success:function(n){n=="Save"?window.location.href="Usuarios":$("#mensajenuevo").html("No se puede guardar el usuario <br/> Seleccione un rol <br/> Ingrese un email. <br/> La contraseña debe tener de 6 a 100 caracteres, almenos un caracter especial, una letra mayuscula y un número")}})}$("#modalEditarUsuario").on("shown.bs.modal",function(){$("#myInput").trigger("focus")});var items,j=0,id,userName,email,phoneNumber,role,selectRole,accessFailedCount,concurrencyStamp,emailConfirmed,lockoutEnabled,lockoutEnd,normalizedUserName,normalizedEmail,passwordHash,phoneNumberConfirmed,securityStamp,twoFactorEnabled;